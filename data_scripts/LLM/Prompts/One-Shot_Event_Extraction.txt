PROMPT_TEMPLATE = """
You are an expert argument annotator. Given a part of a scientific abstract, you need to identify the key trigger for the event (the main verb or action that signals an important research activity) and annotate the abstract with the corresponding argument components related to this trigger. Extractions should capture complete phrases around this key trigger and be organized in a single JSON format, containing only what is explicitly stated in the text without adding any interpretation.

### Abstract Segment to Analyze:

{abstract}

### Argument Components to Extract:

Main Action: What is the SINGLE most representative trigger (verb or verb phrase) in the segment? 

Agent: Who or what is performing this main action? 

Object:
- Primary Object: What is directly receiving or affected by the main action? 
- Secondary Object: What is a secondary entity also receiving the main action?

Context: What provides foundational or situational information of the event?

Purpose: What is the purpose or aim of the event?

Method: What techniques, tools, approaches, or frameworks are used in the event?

Results: What are the outcomes, observations or findings of the event?

Analysis: What are the interpretations or explanations of other arguments?

Challenge: What are the constraints or weaknesses of the event?

Ethical: What are the ethical concerns, justifications or implications of the event?

Implications: What is the broader significance or potential for future applications/research?

Contradictions: What are the disagreements with existing knowledge?

### Extraction Rules:

1. Extract complete phrases, not just single words.
2. Only extract elements that are explicitly present. Mark missing elements as ["<NONE>"].
3. Use the exact text from the abstract.
4. Break down sentences when different parts fit different arguments.
5. NEVER use the same span of text for multiple arguments - each piece of text must be assigned to exactly one argument type. However, multiple text spans can be part of the same argument (e.g., ["text span 1", "text span 2".....] can be used for a single argument type) if different parts of the text contribute to the same argument.
6. If text could fit multiple arguments, prioritize in this order: Results > Purpose > Method > Analysis > Implication > Challenge > Contradiction > Context > Ethical

Here is a one-shot example of a complete abstract:

Background/Introduction Event
For abstract: "Second language acquisition (SLA) research has extensively studied cross-linguistic transfer, the influence of linguistic structure of a speaker's native language [L1] on the successful acquisition of a foreign language [L2]. Effects of such transfer can be positive (facilitating acquisition) or negative (impeding acquisition). We find that NLP literature has not given enough attention to the phenomenon of negative transfer."

Output:
{
  "Main Action": "has extensively studied",
  "Agent": ["Second language acquisition (SLA) research"],
  "Object": {
    "Primary Object": ["cross-linguistic transfer"],
    "Secondary Object": ["<NONE>"]
  },
  "Context": ["Effects of such transfer can be positive (facilitating acquisition) or negative (impeding acquisition)"],
  "Purpose": ["<NONE>"],
  "Method": ["<NONE>"],
  "Results": ["<NONE>"],
  "Analysis": ["<NONE>"],
  "Challenge": ["We find that NLP literature has not given enough attention to the phenomenon of negative transfer"],
  "Ethical": ["<NONE>"],
  "Implications": ["<NONE>"],
  "Contradictions": ["<NONE>"]
}

Methods/Approach Event
For abstract: "To understand patterns of both positive and negative transfer between L1 and L2, we model sequential second language acquisition in LMs. Further, we build a Multilingual Age Ordered CHILDES (MAO-CHILDES) — a dataset consisting of 5 typologically diverse languages, i.e., German, French, Polish, Indonesian, and Japanese — to understand the degree to which native Child-Directed Speech (CDS) [L1] can help or conflict with English language acquisition [L2]."

Output:
{
  "Main Action": "model",
  "Agent": ["we"],
  "Object": {
    "Primary Object": ["sequential second language acquisition in LMs"],
    "Secondary Object": ["<NONE>"]
  },
  "Context": ["<NONE>"],
  "Purpose": ["To understand patterns of both positive and negative transfer between L1 and L2"],
  "Method": ["we build a Multilingual Age Ordered CHILDES (MAO-CHILDES)"],
  "Results": ["<NONE>"],
  "Analysis": ["a dataset consisting of 5 typologically diverse languages, i.e., German, French, Polish, Indonesian, and Japanese"],
  "Challenge": ["<NONE>"],
  "Ethical": ["<NONE>"],
  "Implications": ["<NONE>"],
  "Contradictions": ["<NONE>"]
}

Results/Findings Event
For abstract: "To examine the impact of native CDS, we use the TILT-based cross lingual transfer learning approach established by Papadimitriou and Jurafsky (2020) and find that, as in human SLA, language family distance predicts more negative transfer. Additionally, we find that conversational speech data shows greater facilitation for language acquisition than scripted speech data."

Output:
{
  "Main Action": "use",
  "Agent": ["we"],
  "Object": {
    "Primary Object": ["the TILT-based cross lingual transfer learning approach"],
    "Secondary Object": ["<NONE>"]
  },
  "Context": ["<NONE>"],
  "Purpose": ["To examine the impact of native CDS"],
  "Method": ["<NONE>"],
  "Results": ["as in human SLA, language family distance predicts more negative transfer", "conversational speech data shows greater facilitation for language acquisition than scripted speech data"],
  "Analysis": ["<NONE>"],
  "Challenge": ["<NONE>"],
  "Ethical": ["<NONE>"],
  "Implications": ["<NONE>"],
  "Contradictions": ["<NONE>"]
}

Conclusions/Implications Event
For abstract: "Our findings call for further research using our novel Transformer-based SLA models and we would like to encourage it by releasing our code, data, and models."

Output:
{
  "Main Action": "call for",
  "Agent": ["Our findings"],
  "Object": {
    "Primary Object": ["further research"],
    "Secondary Object": ["<NONE>"]
  },
  "Context": ["<NONE>"],
  "Purpose": ["<NONE>"],
  "Method": ["using our novel Transformer-based SLA models"],
  "Results": ["<NONE>"],
  "Analysis": ["<NONE>"],
  "Challenge": ["<NONE>"],
  "Ethical": ["<NONE>"],
  "Implications": ["we would like to encourage it by releasing our code, data, and models"],
  "Contradictions": ["<NONE>"]
}

### Output Format:
{
  "Main Action": "EXACT TEXT or <NONE>",
  "Agent": ["EXACT TEXT or <NONE>"],
   "Object": {
    "Primary Object": ["EXACT TEXT or <NONE>"],
    "Secondary Object": ["EXACT TEXT or <NONE>"]
  },
  "Context": ["EXACT TEXT or <NONE>"],
  "Purpose": ["EXACT TEXT or <NONE>"],
  "Method": ["EXACT TEXT or <NONE>"],
  "Results": ["EXACT TEXT or <NONE>"],
  "Analysis": ["EXACT TEXT or <NONE>"],
  "Challenge": ["EXACT TEXT or <NONE>"],
  "Ethical": ["EXACT TEXT or <NONE>"],
  "Implications": ["EXACT TEXT or <NONE>"],
  "Contradictions": ["EXACT TEXT or <NONE>"]
}

### IMPORTANT INSTRUCTIONS:
- You MUST return ONLY ONE JSON structure.
- NO explanation text, thinking, or commentary before or after the JSON.
- NEVER repeat the JSON structure.
- ALL fields must use arrays with ["<NONE>"] for missing arguments.
- Follow the EXACT format shown in the template.
- ONLY extract arguments that are explicitly present in the text. DO NOT hallucinate or add any information not found in the abstract.
- Carefully study the one-shot examples to understand how arguments should be correctly annotated from the text.

### Output (JSON only)

"""